============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.3.4, pluggy-1.6.0 -- C:\Users\lenovo\AppData\Local\Microsoft\WindowsApps\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'Windows-10-10.0.26200-SP0', 'Packages': {'pytest': '8.3.4', 'pluggy': '1.6.0'}, 'Plugins': {'allure-pytest': '2.13.5', 'anyio': '4.12.1', 'bdd': '8.1.0', 'html': '4.1.1', 'metadata': '3.1.1', 'xdist': '3.6.1'}, 'JAVA_HOME': 'C:\\Program Files\\Java\\jdk-25'}
rootdir: D:\HistoryMindAI\vietnam_history_dataset
plugins: allure-pytest-2.13.5, anyio-4.12.1, bdd-8.1.0, html-4.1.1, metadata-3.1.1, xdist-3.6.1
collecting ... collected 35 items

tests/test_entity_normalizer.py::TestExpandTruncatedNames::test_expand_ho_c PASSED [  2%]
tests/test_entity_normalizer.py::TestExpandTruncatedNames::test_expand_nguyen_t PASSED [  5%]
tests/test_entity_normalizer.py::TestExpandTruncatedNames::test_no_false_positive_abbreviations PASSED [  8%]
tests/test_entity_normalizer.py::TestExpandTruncatedNames::test_empty_input PASSED [ 11%]
tests/test_entity_normalizer.py::TestRemoveRedundantPronouns::test_bac_ho_replaced_when_canonical_present PASSED [ 14%]
tests/test_entity_normalizer.py::TestRemoveRedundantPronouns::test_bac_ho_kept_when_canonical_absent PASSED [ 17%]
tests/test_entity_normalizer.py::TestRemoveRedundantPronouns::test_cua_bac_replaced PASSED [ 20%]
tests/test_entity_normalizer.py::TestAnnotateFirstMention::test_annotate_alias_not_canonical PASSED [ 22%]
tests/test_entity_normalizer.py::TestAnnotateFirstMention::test_no_annotation_when_canonical_present PASSED [ 25%]
tests/test_entity_normalizer.py::TestNormalizeEntityNames::test_full_pipeline_no_crash PASSED [ 28%]
tests/test_entity_normalizer.py::TestNormalizeEntityNames::test_empty_and_none PASSED [ 31%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_brief_nam_nao PASSED [ 34%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_brief_nam_bao_nhieu PASSED [ 37%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_brief_khi_nao PASSED [ 40%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_brief_tom_tat PASSED [ 42%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_detailed_trinh_bay PASSED [ 45%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_detailed_chi_tiet PASSED [ 48%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_detailed_ke_ve PASSED [ 51%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_detailed_dien_bien PASSED [ 54%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_standard_default PASSED [ 57%]
tests/test_entity_normalizer.py::TestDetectDetailLevel::test_standard_year_query PASSED [ 60%]
tests/test_entity_normalizer.py::TestDetailLevelInClassifyIntent::test_classify_intent_has_detail_level PASSED [ 62%]
tests/test_entity_normalizer.py::TestDetailLevelInClassifyIntent::test_classify_intent_brief_query PASSED [ 65%]
tests/test_entity_normalizer.py::TestResponseStructure::test_response_has_confidence_field PASSED [ 68%]
tests/test_entity_normalizer.py::TestResponseStructure::test_response_has_evidence_ids PASSED [ 71%]
tests/test_entity_normalizer.py::TestCheckTruncatedNames::test_detect_ho_c PASSED [ 74%]
tests/test_entity_normalizer.py::TestCheckTruncatedNames::test_detect_nguyen_t PASSED [ 77%]
tests/test_entity_normalizer.py::TestCheckTruncatedNames::test_no_false_positive PASSED [ 80%]
tests/test_entity_normalizer.py::TestCheckTruncatedNames::test_clean_text_passes PASSED [ 82%]
tests/test_entity_normalizer.py::TestCheckTemporalMixing::test_detect_ungrounded_year PASSED [ 85%]
tests/test_entity_normalizer.py::TestCheckTemporalMixing::test_grounded_years_pass PASSED [ 88%]
tests/test_entity_normalizer.py::TestCheckTemporalMixing::test_no_event_years_passes PASSED [ 91%]
tests/test_entity_normalizer.py::TestCheckTemporalMixing::test_approximate_year_tolerance PASSED [ 94%]
tests/test_entity_normalizer.py::TestVerifierIntegration::test_verify_includes_truncated_names PASSED [ 97%]
tests/test_entity_normalizer.py::TestVerifierIntegration::test_verify_includes_temporal_mixing PASSED [100%]

============================= 35 passed in 0.07s ==============================
